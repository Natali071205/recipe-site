{"ast":null,"code":"var _jsxFileName = \"/Users/nataliatiya/project/client/my-app/src/project/manager/AddCategoryManager.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport axios from \"axios\";\nimport Box from \"@mui/material/Box\";\nimport TextField from \"@mui/material/TextField\";\nimport Button from \"@mui/material/Button\";\nimport Typography from \"@mui/material/Typography\";\nimport FormHelperText from \"@mui/material/FormHelperText\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AddCategoryManager = () => {\n  _s();\n  const [categoryData, setCategoryData] = useState({\n    name: \"\"\n  });\n  const [image, setImage] = useState(null);\n  const [errors, setErrors] = useState({\n    name: \"\",\n    image: \"\"\n  });\n  const navigate = useNavigate();\n\n  // יצירת Reference עבור שדה ה-name\n  const nameInputRef = useRef(null);\n  const handleChange = e => {\n    setCategoryData({\n      ...categoryData,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleImageChange = e => {\n    setImage(e.target.files[0]);\n  };\n  const validateForm = () => {\n    const newErrors = {\n      name: \"\",\n      image: \"\"\n    };\n    if (categoryData.name.length < 3) {\n      newErrors.name = \"שם קטגוריה חייב להיות לפחות 3 תווים\";\n    }\n    if (!image) {\n      newErrors.image = \"יש להוסיף תמונה\";\n    }\n    setErrors(newErrors);\n    return !newErrors.name && !newErrors.image;\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!validateForm()) {\n      return;\n    }\n    const formData = new FormData();\n    formData.append(\"image\", image);\n    formData.append(\"name\", categoryData.name);\n    try {\n      const response = await axios.post(\"http://localhost:3000/categories\", formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      });\n      if (response.status === 201) {\n        alert(\"הקטגוריה נוספה בהצלחה!\");\n        setCategoryData({\n          name: \"\"\n        });\n        setImage(null);\n        navigate(\"/home\");\n      } else {\n        alert(\"הוספת הקטגוריה נכשלה.\");\n      }\n    } catch (error) {\n      console.error(\"Error adding category:\", error);\n      alert(\"אירעה שגיאה במהלך הוספת הקטגוריה.\");\n    }\n  };\n\n  // הוספת התמונה כרקע לכל הדף (ה- body)\n  useEffect(() => {\n    document.body.style.backgroundImage = 'url(/addCtegoryImg.jpg)';\n    document.body.style.backgroundSize = 'cover';\n    document.body.style.backgroundPosition = 'center';\n    document.body.style.height = '100vh'; // לוודא שהתמונה מכסה את כל הגובה\n\n    // הגדרת פוקוס אוטומטי על שדה ה-name כשהדף נטען\n    if (nameInputRef.current) {\n      nameInputRef.current.focus();\n    }\n    return () => {\n      document.body.style.backgroundImage = \"\"; // לנקות את הרקע כאשר עוזבים את הדף\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      position: \"relative\",\n      top: \"194px\",\n      right: \"13px\",\n      p: 3,\n      maxWidth: 600,\n      mx: \"auto\",\n      border: \"1px solid #ccc\",\n      borderRadius: 2,\n      mt: 5,\n      backgroundColor: 'rgba(255, 255, 255, 0)',\n      padding: 4,\n      borderRadius: 2,\n      boxShadow: 3,\n      width: '100%',\n      maxWidth: 500\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      gutterBottom: true,\n      sx: {\n        textAlign: \"center\"\n      },\n      children: \"\\u05D4\\u05D5\\u05E1\\u05E4\\u05EA \\u05E7\\u05D8\\u05D2\\u05D5\\u05E8\\u05D9\\u05D4 \\u05D7\\u05D3\\u05E9\\u05D4\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        label: \"\\u05E9\\u05DD \\u05E7\\u05D8\\u05D2\\u05D5\\u05E8\\u05D9\\u05D4\",\n        name: \"name\",\n        value: categoryData.name,\n        onChange: handleChange,\n        fullWidth: true,\n        margin: \"normal\",\n        error: Boolean(errors.name),\n        helperText: errors.name,\n        inputRef: nameInputRef // כאן אנחנו משתמשים ב-ref לפוקוס אוטומטי\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        label: \"\\u05EA\\u05DE\\u05D5\\u05E0\\u05D4 \\u05E9\\u05DC \\u05D4\\u05E7\\u05D8\\u05D2\\u05D5\\u05E8\\u05D9\\u05D4\",\n        type: \"file\",\n        inputProps: {\n          accept: \"image/*\"\n        },\n        onChange: handleImageChange,\n        fullWidth: true,\n        margin: \"normal\",\n        error: Boolean(errors.image)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this), errors.image && /*#__PURE__*/_jsxDEV(FormHelperText, {\n        error: true,\n        children: errors.image\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        variant: \"contained\",\n        fullWidth: true,\n        sx: {\n          mt: 3,\n          backgroundColor: \"black\"\n        },\n        children: \"\\u05D4\\u05D5\\u05E1\\u05E3 \\u05E7\\u05D8\\u05D2\\u05D5\\u05E8\\u05D9\\u05D4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 5\n  }, this);\n};\n_s(AddCategoryManager, \"CUPW5tRRoJM54jA3BR95h4GV7BY=\", false, function () {\n  return [useNavigate];\n});\n_c = AddCategoryManager;\nexport default AddCategoryManager;\nvar _c;\n$RefreshReg$(_c, \"AddCategoryManager\");","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","Box","TextField","Button","Typography","FormHelperText","useNavigate","jsxDEV","_jsxDEV","AddCategoryManager","_s","categoryData","setCategoryData","name","image","setImage","errors","setErrors","navigate","nameInputRef","handleChange","e","target","value","handleImageChange","files","validateForm","newErrors","length","handleSubmit","preventDefault","formData","FormData","append","response","post","headers","status","alert","error","console","document","body","style","backgroundImage","backgroundSize","backgroundPosition","height","current","focus","sx","position","top","right","p","maxWidth","mx","border","borderRadius","mt","backgroundColor","padding","boxShadow","width","children","variant","gutterBottom","textAlign","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","label","onChange","fullWidth","margin","Boolean","helperText","inputRef","type","inputProps","accept","_c","$RefreshReg$"],"sources":["/Users/nataliatiya/project/client/my-app/src/project/manager/AddCategoryManager.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport axios from \"axios\";\nimport Box from \"@mui/material/Box\";\nimport TextField from \"@mui/material/TextField\";\nimport Button from \"@mui/material/Button\";\nimport Typography from \"@mui/material/Typography\";\nimport FormHelperText from \"@mui/material/FormHelperText\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst AddCategoryManager = () => {\n  const [categoryData, setCategoryData] = useState({\n    name: \"\",\n  });\n  const [image, setImage] = useState(null);\n  const [errors, setErrors] = useState({\n    name: \"\",\n    image: \"\",\n  });\n  const navigate = useNavigate();\n\n  // יצירת Reference עבור שדה ה-name\n  const nameInputRef = useRef(null);\n\n  const handleChange = (e) => {\n    setCategoryData({\n      ...categoryData,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const handleImageChange = (e) => {\n    setImage(e.target.files[0]);\n  };\n\n  const validateForm = () => {\n    const newErrors = { name: \"\", image: \"\" };\n    if (categoryData.name.length < 3) {\n      newErrors.name = \"שם קטגוריה חייב להיות לפחות 3 תווים\";\n    }\n    if (!image) {\n      newErrors.image = \"יש להוסיף תמונה\";\n    }\n    setErrors(newErrors);\n\n    return !newErrors.name && !newErrors.image;\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (!validateForm()) {\n      return;\n    }\n\n    const formData = new FormData();\n    formData.append(\"image\", image);\n    formData.append(\"name\", categoryData.name);\n\n    try {\n      const response = await axios.post(\"http://localhost:3000/categories\", formData, {\n        headers: { \"Content-Type\": \"multipart/form-data\" },\n      });\n\n      if (response.status === 201) {\n        alert(\"הקטגוריה נוספה בהצלחה!\");\n        setCategoryData({ name: \"\" });\n        setImage(null);\n        navigate(\"/home\");\n      } else {\n        alert(\"הוספת הקטגוריה נכשלה.\");\n      }\n    } catch (error) {\n      console.error(\"Error adding category:\", error);\n      alert(\"אירעה שגיאה במהלך הוספת הקטגוריה.\");\n    }\n  };\n\n  // הוספת התמונה כרקע לכל הדף (ה- body)\n  useEffect(() => {\n    document.body.style.backgroundImage = 'url(/addCtegoryImg.jpg)';\n    document.body.style.backgroundSize = 'cover';\n    document.body.style.backgroundPosition = 'center';\n    document.body.style.height = '100vh'; // לוודא שהתמונה מכסה את כל הגובה\n\n    // הגדרת פוקוס אוטומטי על שדה ה-name כשהדף נטען\n    if (nameInputRef.current) {\n      nameInputRef.current.focus();\n    }\n\n    return () => {\n      document.body.style.backgroundImage = \"\"; // לנקות את הרקע כאשר עוזבים את הדף\n    };\n  }, []);\n\n  return (\n    <Box\n      sx={{\n        position: \"relative\",\n        top: \"194px\",\n        right: \"13px\",\n        p: 3,\n        maxWidth: 600,\n        mx: \"auto\",\n        border: \"1px solid #ccc\",\n        borderRadius: 2,\n        mt: 5,\n        backgroundColor: 'rgba(255, 255, 255, 0)' , \n        padding: 4,\n        borderRadius: 2,\n        boxShadow: 3,\n        width: '100%',\n        maxWidth: 500,\n      }}\n    >\n      <Typography variant=\"h4\" gutterBottom sx={{textAlign:\"center\"}}>\n        הוספת קטגוריה חדשה\n      </Typography>\n      <form onSubmit={handleSubmit}>\n        <TextField\n          label=\"שם קטגוריה\"\n          name=\"name\"\n          value={categoryData.name}\n          onChange={handleChange}\n          fullWidth\n          margin=\"normal\"\n          error={Boolean(errors.name)}\n          helperText={errors.name}\n          inputRef={nameInputRef} // כאן אנחנו משתמשים ב-ref לפוקוס אוטומטי\n        />\n        <TextField\n          label=\"תמונה של הקטגוריה\"\n          type=\"file\"\n          inputProps={{ accept: \"image/*\" }}\n          onChange={handleImageChange}\n          fullWidth\n          margin=\"normal\"\n          error={Boolean(errors.image)}\n        />\n        {errors.image && (\n          <FormHelperText error>{errors.image}</FormHelperText>\n        )}\n        <Button type=\"submit\" variant=\"contained\" fullWidth sx={{ mt: 3, backgroundColor:\"black\" }}>\n          הוסף קטגוריה\n        </Button>\n      </form>\n    </Box>\n  );\n};\n\nexport default AddCategoryManager;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}